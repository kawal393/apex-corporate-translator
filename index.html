<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>APEX Corporate Translator — Verdict Engine</title>
  <meta name="description" content="Translate corporate language into consequences — fast verdict, no spin."/>

  <style>
    :root{
      --bg0:#05070B; --bg1:#070A12;
      --panel: rgba(255,255,255,.06);
      --panel2: rgba(255,255,255,.035);
      --stroke: rgba(255,255,255,.10);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.62);
      --muted2: rgba(255,255,255,.45);
      --gold:#D6B35A; --gold2:#B99233;
      --blue:#6AA8FF;
      --ok:#34D399; --warn:#FBBF24; --bad:#FB7185;
      --shadow: 0 22px 80px rgba(0,0,0,.55);
      --radius: 22px; --radius2: 16px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      --sans: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 10% -10%, rgba(106,168,255,.16), transparent 60%),
        radial-gradient(1000px 700px at 95% 5%, rgba(214,179,90,.14), transparent 60%),
        linear-gradient(180deg,var(--bg0),var(--bg1));
      overflow-x:hidden;
    }

    #apexParticles{position:fixed;inset:0;z-index:3;pointer-events:none;opacity:.42}

    .wrap{max-width:1120px;margin:auto;padding:24px 16px 70px;position:relative;z-index:10}

    h1,h2{margin:0;text-transform:uppercase;letter-spacing:.08em}
    h2 span{
      background:linear-gradient(90deg,var(--gold),#fff,var(--blue));
      -webkit-background-clip:text;background-clip:text;color:transparent
    }

    .panel,.card{
      border-radius:22px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.25);
      backdrop-filter:blur(10px);
      box-shadow:var(--shadow);
      padding:16px;
      margin-top:14px;
    }

    textarea{
      width:100%;min-height:160px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.25);
      color:#fff;
      padding:12px;
      font-size:14px;
    }

    .row{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}

    button{
      border:none;border-radius:14px;
      padding:10px 14px;
      font-weight:800;
      cursor:pointer;
    }
    .primary{background:linear-gradient(135deg,var(--gold),var(--gold2))}
    .ghost{background:rgba(255,255,255,.08);color:#fff;border:1px solid rgba(255,255,255,.14)}

    .kv{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:12px}
    .k{padding:12px;border-radius:14px;background:rgba(0,0,0,.25);border:1px solid rgba(255,255,255,.12)}
    .t{font-size:11px;letter-spacing:.12em;color:var(--muted)}
    .v{margin-top:6px;font-weight:900}

    pre{
      white-space:pre-wrap;
      font-family:var(--mono);
      font-size:13px;
      line-height:1.45;
    }
  </style>
</head>

<body>
<canvas id="apexParticles"></canvas>

<div class="wrap">
  <section class="panel">
    <h2><span>Verdict</span> Engine</h2>
    <p>Paste a corporate email, memo, announcement, or institutional message.  
    This engine refuses greetings, vibes, and nonsense.</p>
  </section>

  <section class="card">
    <textarea id="msg" placeholder="Paste corporate email / memo / announcement here (not greetings)."></textarea>
    <div class="row">
      <button class="primary" id="run">Generate Verdict</button>
      <button class="ghost" id="example">Example</button>
      <button class="ghost" id="clear">Clear</button>
    </div>
  </section>

  <section class="card">
    <div class="kv">
      <div class="k"><div class="t">Decision</div><div class="v" id="tier">—</div></div>
      <div class="k"><div class="t">Confidence</div><div class="v" id="conf">—</div></div>
      <div class="k"><div class="t">Status</div><div class="v" id="status">READY</div></div>
    </div>

    <div class="card">
      <pre id="out">• No verdict yet.</pre>
    </div>
  </section>
</div>

<script>
(() => {
  const $ = id => document.getElementById(id);

  function isGreeting(t){
    const s=t.toLowerCase().trim();
    const g=["hi","hello","hey","how are you","hru","what's up","whats up","yo"];
    if(s.length<=40){
      return g.some(x=>s===x||s.includes(x));
    }
    return false;
  }

  function looksCorporate(t){
    const s=t.toLowerCase();
    const k=["strategy","restructure","review","compliance","audit","portfolio","initiative","timeline","kpi","budget","regulatory","board","stakeholder","effective immediately"];
    let hits=0;
    for(const x of k){if(s.includes(x))hits++}
    return hits>=2;
  }

  function verdict(text){
    const raw=text.trim();
    if(!raw) return null;

    if(isGreeting(raw)){
      return [
        "Decision: NOT A CORPORATE MESSAGE",
        "Meaning: This is a human greeting or social check-in.",
        "Intent: Establishing rapport, not conveying institutional information.",
        "Next Action: Respond normally (e.g., polite reply).",
        "Kill Rule: None. This is not a signal."
      ].join("\n");
    }

    if(raw.length<60 || !looksCorporate(raw)){
      return [
        "Decision: INSUFFICIENT SIGNAL",
        "Meaning: Text lacks institutional or operational markers.",
        "Intent: Unclear or informal communication.",
        "Next Action: Request the full corporate message or context.",
        "Kill Rule: If no context is provided, treat as noise."
      ].join("\n");
    }

    return [
      "Decision: HOLD",
      "Meaning: Signals uncertainty, review, or internal tightening.",
      "Intent: Repositioning while avoiding firm commitments.",
      "Next Action: Ask for owner, timeline, and success metric.",
      "Kill Rule: If specifics are refused twice, disengage."
    ].join("\n");
  }

  $("run").onclick=()=>{
    const v=verdict($("msg").value);
    if(!v){$("out").textContent="• No verdict yet.";return}
    $("out").textContent=v;
    $("tier").textContent=v.includes("HOLD")?"HOLD":"—";
    $("conf").textContent=v.includes("INSUFFICIENT")?"Low":"Medium";
    $("status").textContent="GENERATED";
  };

  $("clear").onclick=()=>{
    $("msg").value="";
    $("out").textContent="• No verdict yet.";
    $("tier").textContent="—";
    $("conf").textContent="—";
    $("status").textContent="READY";
  };

  $("example").onclick=()=>{
    $("msg").value=
`Subject: Strategic Review Update

We are conducting a portfolio review and reassessing operating priorities.
Some initiatives may be paused as we align resources and address compliance readiness.`;
  };
})();
</script>

<script>
(() => {
  const c=document.getElementById("apexParticles");
  const x=c.getContext("2d");
  function r(){c.width=innerWidth;c.height=innerHeight}
  r();addEventListener("resize",r);
  const p=[...Array(70)].map(()=>({x:Math.random()*c.width,y:Math.random()*c.height,vx:(Math.random()-.5)*.3,vy:(Math.random()-.5)*.3}));
  function d(){
    x.clearRect(0,0,c.width,c.height);
    p.forEach(a=>{
      a.x+=a.vx;a.y+=a.vy;
      if(a.x<0||a.x>c.width)a.vx*=-1;
      if(a.y<0||a.y>c.height)a.vy*=-1;
      x.fillStyle="rgba(214,179,90,.5)";
      x.beginPath();x.arc(a.x,a.y,1.5,0,6.28);x.fill();
    });
    requestAnimationFrame(d);
  }
  d();
})();
</script>
</body>
</html>
